<div x-data="burger()" class="flex items-center justify-center h-full fill-current">
    <nav >
        <button {{!-- :class="$store.burgeropen ? 'text-blue-congress' : 'text-white'" --}}  
            class="relative w-10 h-10 text-white focus:outline-none bg-brand"
            @burger-close.window="burgerClose()" 
            @click.debounce="burgerClick()">

            <span class="sr-only md:hidden">Open main menu</span>
            <div class="absolute block w-6 transform -translate-x-1/2 -translate-y-1/2 left-1/2 top-1/2">
                <span aria-hidden="true" class="absolute block w-full h-0.5 transition duration-500 ease-in-out transform bg-current " :class="$store.burgeropen ? 'rotate-45' : '-mt-2'"></span>
                <span aria-hidden="true" class="absolute block w-full h-0.5 transition duration-500 ease-in-out transform bg-current" :class="{'opacity-0': $store.burgeropen } "></span>
                <span aria-hidden="true" class="absolute block w-full h-0.5 transition duration-500 ease-in-out transform bg-current" :class="{'-rotate-45': $store.burgeropen, 'mt-2': ! $store.burgeropen }"></span>
            </div>
        </button>
    </nav>
</div>
<script>
    var burger = () => {
        return {
            burgerClose(){
                this.$store.burgeropen = false
                this.$dispatch('toggle-sectionnav', false); 
                document.querySelector('.js-pageOverlay').classList.toggle('hidden')
                window.innerHeight > this.$refs.sectionnavigation.scrollHeight ? document.body.classList.toggle('overflow-hidden') : null 
            },
            burgerClick(){
                this.$store.burgeropen = !this.$store.burgeropen
                this.$dispatch('toggle-sectionnav',  this.$store.burgeropen);   
                this.$refs.serviceList.classList.remove('-translate-y-40'); 
                this.$refs.sectionnavigation.classList.remove('-translate-y-40')

                document.querySelector('.js-pageOverlay').classList.toggle('hidden')

                window.innerHeight > this.$refs.sectionnavigation.scrollHeight ? document.body.classList.toggle('overflow-hidden') : null 
            }
        }
    }
</script>